(function($){$.fn.skifCarousel=function(options){var settings={visible:3,rotateBy:1,speed:1000,btnNext:null,btnPrev:null,auto:3500,backSlide:false};if(typeof options!=="undefined"){$.extend(true,settings,options)}var uniqID=Math.floor((Math.random()*100000)+1);var elementID='carousel'+String(uniqID);$(this).attr('id',elementID);settings.btnNext='btnNext'+String(uniqID);settings.btnPrev='btnPrev'+String(uniqID);var divNext="<div class=\"btnNext "+settings.btnNext+"\" />";var divPrev="<div class=\"btnPrev "+settings.btnPrev+"\" />";$(this).append(divNext);$(this).append(divPrev);settings.btnNext='.'+settings.btnNext;settings.btnPrev='.'+settings.btnPrev;return this.each(function(options){var $this=$(this);var $carousel=$this.children(':first');var itemMarginLeft=$carousel.children().css('margin-left').replace('px','');var itemMarginRight=$carousel.children().css('margin-right').replace('px','');var itemWidth=Number($carousel.children().outerWidth())+Number(itemMarginLeft)+Number(itemMarginRight);var itemsTotal=$carousel.children().length;var running=false;var intID=null;$this.css({'position':'relative','overflow':'hidden','width':settings.visible*itemWidth+'px'});$carousel.css({'position':'relative','width':32000+'px','left':0});function slide(dir){var direction=!dir?-1:1;var leftIndent=0;if(!running){running=true;if(intID){window.clearInterval(intID)}if(!dir){$carousel.children(':last').after($carousel.children().slice(0,settings.rotateBy).clone(true))}else{$carousel.children(':first').before($carousel.children().slice(itemsTotal-settings.rotateBy,itemsTotal).clone(true));$carousel.css('left',-itemWidth*settings.rotateBy+'px')}leftIndent=parseInt($carousel.css('left'))+(itemWidth*settings.rotateBy*direction);$carousel.animate({'left':leftIndent},{queue:false,duration:settings.speed,complete:function(){if(!dir){$carousel.children().slice(0,settings.rotateBy).remove();$carousel.css('left',0)}else{$carousel.children().slice(itemsTotal,itemsTotal+settings.rotateBy).remove()}if(settings.auto){intID=window.setInterval(function(){slide(settings.backslide)},settings.auto)}running=false}})}return false}$(settings.btnNext).click(function(){return slide(false)});$(settings.btnPrev).click(function(){return slide(true)});if(settings.auto){intID=window.setInterval(function(){slide(settings.backslide)},settings.auto)}})}})(jQuery);